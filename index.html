<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="initial-scale=1.0, user-scalable=no, width=device-width"
    />
    <title>textinputvault</title>
    <link rel="stylesheet" type="text/css" href="./zoomwall.css" />
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
      }
      body {
        background-color: black;
      }
      header {
        padding: 1em;
        background-color: #333;
        text-align: center;
      }
      a:link,
      a:visited {
        text-decoration: none;
        font-family: sans-serif;
        color: white;
      }
      a:hover {
        color: #ddd;
      }
      #author {
        float: left;
      }
      #repo {
        float: right;
      }
      #title {
        display: inline-block;
        font-weight: bold;
      }
      footer {
        padding: 1em;
        background-color: #333; /* Ensure contrast against the body's black background */
        color: white; /* Ensures text is visible */
        text-align: center;
        font-family: Arial, sans-serif;
      }
    </style>
  </head>
  <body>
    <header>
      <a id="author" href="http://textinputvault.github.io">textinputvault</a
      ><a
        id="repo"
        href="https://docs.google.com/forms/d/e/1FAIpQLSckl-HZIULEDK4t7FpD6W0cUuPNE38dtZh6qPuwZZONCUF8tA/viewform?usp=sf_link"
        >Add your technique</a
      ><a id="title" href="https://github.com/textinputvault"
        >A keyboard for XR to augment the human</a
      >
    </header>

    <div id="zoomwall" class="zoomwall">
      <!-- Images will be loaded here -->
    </div>

    <footer>
      <p>
        What we see here is a collective of work, made by all the humans and HCI
        scientist who have been thinking about the challenge of text input in XR
        over decades. Once we have organized the techniques there will be actual
        attribution of credits to each of the techniques. Stay tuned.
      </p>
    </footer>

    <script type="module">
      import * as zoomwall from "./zoomwall.js";

      async function loadImages() {
        const response = await fetch("./imageList.json");
        const imageList = await response.json();
        const zoomwallDiv = document.getElementById("zoomwall");

        for (let i = 0; i < imageList.length; i += 2) {
          const highres = imageList[i];
          const lowres = imageList[i + 1];
          const imgElement = `<img srcset="./media/${lowres} 250w, ./media/${highres} 1280w" sizes="(max-width: 1280px) 250px, 1280px" src="./media/${lowres}" />`;
          zoomwallDiv.insertAdjacentHTML("beforeend", imgElement);
        }

        zoomwall.create(document.getElementById("zoomwall"), true);
      }

      // Modified page reloading logic with delay initially used "setInterval" but then changed to "setTimeout"
      if (!window.location.search.includes("r=1")) {
        setTimeout(function () {
          window.location.search += "&r=1";
        }, 10000); // Delay reload by 1500 milliseconds
      } else {
        window.onload = loadImages;
      }
    </script>
  </body>
</html>
